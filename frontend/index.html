<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Stats Tracker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Life Stats</h1>
            <button id="submitBtn" class="submit-btn">
                <i class="fas fa-plus"></i> Submit
            </button>
        </header>

        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="events">Events</button>
            <button class="tab-btn" data-tab="toothbrush">Toothbrush</button>
            <button class="tab-btn" data-tab="data-view">View Data</button>
            <button class="tab-btn" data-tab="stats">Stats</button>
        </nav>

        <div class="tab-content">
            <!-- Events Tab (unchanged) -->
            <div id="events-tab" class="tab-pane active">
                <div class="event-buttons">
                    <button class="event-btn pee" data-type="pee">
                        <i class="fas fa-tint"></i> Pee
                    </button>
                    <button class="event-btn poo" data-type="poo">
                        <i class="fas fa-poop"></i> Poo
                    </button>
                    <button id="cum-btn" class="event-btn cum hidden" data-type="cum">
                        <i class="fas fa-fire"></i> Cum
                    </button>
                </div>
                
                <div class="form-group">
                    <label for="location">Location (optional)</label>
                    <input type="text" id="location" placeholder="Where did this happen?">
                </div>
                
                <div class="form-group">
                    <label for="who">Who (optional)</label>
                    <input type="text" id="who" placeholder="With whom?">
                </div>
                
                <button id="events-submit" class="action-btn">Record Event</button>
            </div>

            <!-- Toothbrush Tab (unchanged) -->
            <div id="toothbrush-tab" class="tab-pane">
                <div class="time-display">
                    <span id="toothbrush-time">--:--</span>
                </div>
                
                <div class="duration-selector">
                    <label>Duration (minutes):</label>
                    <div class="duration-buttons">
                        <button class="duration-btn" data-duration="1">1</button>
                        <button class="duration-btn" data-duration="2">2</button>
                        <button class="duration-btn" data-duration="3">3</button>
                    </div>
                </div>
                
                <button id="toothbrush-submit" class="action-btn">Record Brushing</button>
            </div>

            <!-- NEW: Data View Tab -->
            <div id="data-view-tab" class="tab-pane">
                <div class="data-actions">
                    <button id="refresh-data" class="action-btn">
                        <i class="fas fa-sync-alt"></i> Refresh Data
                    </button>
                    <button id="export-csv" class="action-btn secondary">
                        <i class="fas fa-download"></i> Export CSV
                    </button>
                </div>

                <div class="data-tabs">
                    <button class="data-tab-btn active" data-data-type="events">Events</button>
                    <button class="data-tab-btn" data-data-type="toothbrush">Toothbrush</button>
                </div>

                <div class="data-container">
                    <div id="events-data" class="data-table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Type</th>
                                    <th>Date & Time</th>
                                    <th>Location</th>
                                    <th>Who</th>
                                    <th>Normalized Who</th>
                                </tr>
                            </thead>
                            <tbody id="events-table-body">
                                <!-- Data will be populated here -->
                            </tbody>
                        </table>
                    </div>

                    <div id="toothbrush-data" class="data-table-container hidden">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Date & Time</th>
                                    <th>Duration (min)</th>
                                </tr>
                            </thead>
                            <tbody id="toothbrush-table-body">
                                <!-- Data will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Stats Tab (unchanged) -->
            <div id="stats-tab" class="tab-pane">
                <div class="stats-header">
                    <h2>Your Stats</h2>
                    <button id="toggle-cum-stats" class="toggle-btn">
                        <i class="fas fa-pepper-hot"></i>
                    </button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Events</h3>
                        <span id="total-events">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>Toothbrush Sessions</h3>
                        <span id="toothbrush-count">0</span>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3>Events by Type</h3>
                    <canvas id="events-chart"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>Events by Person</h3>
                    <canvas id="people-chart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
